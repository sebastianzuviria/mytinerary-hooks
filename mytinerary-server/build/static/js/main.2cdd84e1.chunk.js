(this["webpackJsonpmytinerary-frontend"]=this["webpackJsonpmytinerary-frontend"]||[]).push([[0],{44:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r,a=n(1),i=n(19),c=n.n(i),s=(n(44),n(5)),o=(n(49),n(7)),u=n(6),l=n(2),d=n.n(l),j=n(3),b=(n(51),n.p+"static/media/travel.c4c34491.png"),m=n.p+"static/media/music.456bd6c4.png",f=n.p+"static/media/cutlery.11895e30.png",h=n.p+"static/media/beach.fe4730ae.png",p=n(16),v=n(8),O=n.n(v),x="/api/itineraries",g=null,y={getAll:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(x);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getItinerariesOf:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(x,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),favItinerary:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:g}},e.next=3,O.a.put("".concat(x,"/").concat(t),null,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){g="bearer ".concat(e)}},k="/api/login",N={login:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post(k,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),loginGoogle:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(k,"/auth/google"),t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w="/api/comments",C=null,I={setToken:function(e){C="bearer ".concat(e)},getAll:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(w);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),comment:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},e.next=3,O.a.post(w,t,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteComment:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},e.next=3,O.a.delete("".concat(w,"/").concat(t),n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),likedComment:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},r={isLiked:!0},e.next=4,O.a.put("".concat(w,"/").concat(t),r,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dislikedComment:function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},r={isDisliked:!0},e.next=4,O.a.put("".concat(w,"/").concat(t),r,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"SET_USER",data:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.data;default:return e}},L=n(0),E=function(){var e=Object(s.c)((function(e){return e.user})),t=Object(u.g)(),n=Object(s.b)(),r=function(){var e=Object(j.a)(d.a.mark((function e(r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.loginGoogle(r);case 3:a=e.sent,window.localStorage.setItem("loggedMytineraryUser",JSON.stringify(a)),y.setToken(a.token),I.setToken(a.token),n(S(a)),t.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{className:"Home",children:[Object(L.jsxs)("div",{className:"Icons",children:[Object(L.jsx)("img",{src:b,className:"Plane",alt:"plane"}),Object(L.jsx)("img",{src:m,className:"Music",alt:"music"}),Object(L.jsx)("img",{src:f,className:"Cutlery",alt:"cutlery"}),Object(L.jsx)("img",{src:h,className:"Beach",alt:"beach"})]}),Object(L.jsxs)("div",{className:"Content",children:[Object(L.jsx)("h1",{className:"HeaderContent",children:"Welcome to Mytinerary"}),e?Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"BodyContent",children:"Choose your favourites places, and discover the World."}),Object(L.jsx)(o.b,{className:"ButtonStart",to:"/cities",children:"Cities"})]}):Object(L.jsxs)("div",{children:[Object(L.jsx)("div",{className:"BodyContent",children:"Login with Google and discover the World."}),Object(L.jsx)(p.GoogleLogin,{clientId:"513500461810-5n00tpak7tr7lti6an6lau1mm8sfnaqj.apps.googleusercontent.com",buttonText:"Login",render:function(e){return Object(L.jsx)(o.b,{className:"ButtonStart",onClick:e.onClick,disabled:e.disabled,to:"/cities",children:"Get Started"})},onSuccess:r,onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin",isSignedIn:!0})]})]})]})},T=(n(72),function(){return Object(L.jsxs)("div",{className:"About",children:[Object(L.jsx)("h3",{children:" About "}),Object(L.jsxs)("div",{className:"AboutContainer",children:[Object(L.jsxs)("p",{children:["This page was build with ReactJS, Redux, NodeJS, Express and MongoDB by",Object(L.jsxs)("a",{target:"_blank",rel:"noreferrer",href:"https://www.linkedin.com/in/sebastian-zuviria/",className:"Link",children:[" Sebastian Zuviria ",Object(L.jsx)("i",{className:"fab fa-linkedin Linkedin"})]})]}),Object(L.jsxs)("div",{className:"ListContainer",children:[Object(L.jsx)("h4",{children:"You can:"}),Object(L.jsx)("div",{className:"List",children:Object(L.jsxs)("ul",{children:[Object(L.jsx)("li",{children:"Login with Google."}),Object(L.jsx)("li",{children:"Add itineraries to favourites."}),Object(L.jsx)("li",{children:"Comment the itineraries and delete them."}),Object(L.jsx)("li",{children:"Like or dislikes comments."})]})})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("i",{className:"fab fa-github Github"}),Object(L.jsxs)("div",{children:["Find the code for this page on ",Object(L.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/szuviria/mytinerary-hooks",className:"Link",children:"GitHub"})]})]})]})]})}),F=(n(73),"/api/cities"),U={getAll:function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(F);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getCity:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(F,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CITIES":return t.data;default:return e}},R=function(e){return function(){var t=Object(j.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.getItinerariesOf(e);case 2:r=t.sent,n({type:"GET_ITINERARIES",data:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITINERARIES":case"CLEAR_ITINERARIES":return t.data;default:return e}},M=(n(74),function(e){var t=e.cityName,n=e.cityImg,r=e.countryName,a=e.countryFlag,i=function(e){return e.replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))}))};return Object(L.jsx)("div",{className:"Card",children:Object(L.jsxs)(o.b,{to:"/itineraries/".concat(t),children:[Object(L.jsx)("div",{className:"CityImg",style:{backgroundImage:"url(".concat(n,")")}}),Object(L.jsx)("div",{className:"CityName",children:i(t)}),Object(L.jsx)("div",{className:"CountryName",children:i(r)}),Object(L.jsx)("div",{className:"FlagContainer",children:Object(L.jsx)("div",{className:"CountryFlag",style:{backgroundImage:"url(".concat(a,")")}})})]})})}),G=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.cities}));return Object(a.useEffect)((function(){e(function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getAll();case 2:n=e.sent,t({type:"GET_CITIES",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR_ITINERARIES",data:[]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(L.jsxs)("div",{className:"Cities",children:[Object(L.jsx)("h3",{children:"Cities"}),Object(L.jsx)("div",{className:"CitiesContainer",children:t.map((function(e){return Object(L.jsx)(M,{cityName:e.name,cityImg:e.imgUrl,countryName:e.country.name,countryFlag:e.country.flagImgUrl},e.id)}))})]})},_=(n(75),n(9)),P=(n(76),n(77),function(e){var t=e.activityName,n=e.activityAddress,r=e.activityDescription,a=e.activityDuration,i=e.activityPrice,c=e.activityImage;return Object(L.jsxs)("div",{className:"CardActivity",children:[Object(L.jsxs)("div",{className:"ActivityHeader",children:[Object(L.jsxs)("div",{className:"ActivityContent",children:[Object(L.jsx)("div",{className:"ActivityName",children:t}),Object(L.jsxs)("div",{className:"Description",children:[Object(L.jsx)("i",{className:"fas fa-info-circle DescriptionIcon"})," ",r]}),Object(L.jsxs)("div",{className:"Details",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("i",{className:"fas fa-clock"})," ",a]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("i",{className:"fas fa-dollar-sign DolarIcon"})," ",i]})]})]}),Object(L.jsx)("div",{children:Object(L.jsx)("div",{className:"ActivityImage",style:{backgroundImage:"url(".concat(c,")")}})})]}),Object(L.jsx)("div",{children:Object(L.jsxs)("div",{className:"Address",children:[Object(L.jsx)("i",{className:"fas fa-map-marked-alt"})," ",n]})})]})}),H=function(e){var t=e.activities,n=Object(a.useState)(0),r=Object(_.a)(n,2),i=r[0],c=r[1];if(0===t.length)return Object(L.jsx)("div",{children:"No activities"});return Object(L.jsxs)("div",{className:"Activities",children:[Object(L.jsxs)("div",{className:"SliderContent",children:[Object(L.jsx)("div",{onClick:function(){if(0===i)return i;c(i-1)},children:Object(L.jsx)("i",{className:"fas fa-chevron-left SliderArrow"})}),Object(L.jsx)(P,{activityId:t[i].id,activityName:t[i].name,activityAddress:t[i].address,activityDescription:t[i].description,activityDuration:t[i].duration,activityPrice:t[i].price,activityImage:t[i].imgUrl},t[i].id),Object(L.jsx)("div",{className:"SliderArrow",onClick:function(){if(i+1===t.length)return i;c(i+1)},children:Object(L.jsx)("i",{className:"fas fa-chevron-right SliderArrow"})})]}),Object(L.jsx)("div",{style:{display:"flex"},children:0===t.length?Object(L.jsx)("div",{children:"There is not activity regitered"}):Object(L.jsxs)("div",{className:"SliderFooter",children:[i+1," of ",t.length," ",1===i?"activity":"activities"]})})]})},J=(n(78),{container:{borderColor:"grey",borderWeigth:1,borderStyle:"solid",margin:5},buttonBox:{display:"flex",margin:5},button:{margin:5},user:{width:"auto",display:"flex",alignItems:"center"},userImg:{width:30,margin:5},commentBox:{margin:10,marginTop:0}}),z=function(e){var t=e.commentId,n=e.commentContent,r=e.commentLikes,i=e.commentDislikes,c=e.commentUser,o=e.commentItinerary,u=Object(a.useState)("like"),l=Object(_.a)(u,2),b=l[0],m=l[1],f=Object(a.useState)("liked"),h=Object(_.a)(f,2),p=h[0],v=h[1],O=Object(a.useState)(0),x=Object(_.a)(O,2),g=x[0],y=x[1],k=Object(a.useState)(0),N=Object(_.a)(k,2),w=N[0],C=N[1],A=Object(s.c)((function(e){return e.user})),E=Object(s.b)();Object(a.useEffect)((function(){if(y(r.length),C(i.length),A){var e=r.find((function(e){return String(e)===A.id})),t=i.find((function(e){return String(e)===A.id}));m(e?"liked":"like"),v(t?"disliked":"dislike")}}),[i,r]);var T=function(){var e=Object(j.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.deleteComment(t);case 2:E(R(o.city.name)),n=window.localStorage.getItem("loggedMytineraryUser"),r=JSON.parse(n),E(S(r));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"like"===b?(m("liked"),y(g+1),"disliked"===p&&(v("dislike"),C(w-1))):"liked"===b&&(m("like"),y(g-1)),e.next=3,I.likedComment(t);case 3:E(R(o.city.name)),n=window.localStorage.getItem("loggedMytineraryUser"),r=JSON.parse(n),E(S(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(j.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dislike"===p?(v("disliked"),C(w+1),"liked"===b&&(m("like"),y(g-1))):"disliked"===p&&(v("dislike"),C(w-1)),e.next=3,I.dislikedComment(t);case 3:E(R(o.city.name)),n=window.localStorage.getItem("loggedMytineraryUser"),r=JSON.parse(n),E(S(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{className:"ContainerComment",children:[Object(L.jsx)("div",{className:"UserBox",style:J.user,children:Object(L.jsx)("div",{className:"UserImage",style:{backgroundImage:"url(".concat(c.imgUrl,")")}})}),Object(L.jsxs)("div",{className:"CommentBox",children:[Object(L.jsxs)("div",{className:"Comment",children:[Object(L.jsxs)("div",{className:"CommentHeader",children:[Object(L.jsxs)("div",{className:"UserName",children:[c.firstName," ",c.lastName]}),A&&A.id===c.id&&Object(L.jsx)("div",{className:"Delete",onClick:T,children:Object(L.jsx)("i",{className:"fas fa-trash"})})]}),Object(L.jsx)("div",{className:"CommentText",children:n})]}),Object(L.jsxs)("div",{className:"ButtonBox",style:J.buttonBox,children:[Object(L.jsxs)("div",{className:"Likes",children:[g,A?Object(L.jsx)("div",{onClick:F,children:"like"===b?Object(L.jsx)("i",{className:"far fa-thumbs-up Like"}):Object(L.jsx)("i",{className:"fas fa-thumbs-up Liked"})}):Object(L.jsx)("div",{disabled:!0,children:Object(L.jsx)("i",{className:"far fa-thumbs-up"})})]}),Object(L.jsxs)("div",{className:"Dislikes",children:[w,A?Object(L.jsx)("div",{onClick:U,children:"dislike"===p?Object(L.jsx)("i",{className:"far fa-thumbs-down Dislike"}):Object(L.jsx)("i",{className:"fas fa-thumbs-down Disliked"})}):Object(L.jsx)("div",{disabled:!0,children:Object(L.jsx)("i",{className:"far fa-thumbs-down"})})]})]})]})]})},W=(n(79),function(e){var t=e.itineraryId,n=e.city,r=Object(a.useState)(""),i=Object(_.a)(r,2),c=i[0],o=i[1],u=Object(s.b)(),l=Object(s.c)((function(e){return e.user})),b=function(){var e=Object(j.a)(d.a.mark((function e(r){var a,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a={content:c,itinerary:t,activity:null},e.next=4,I.comment(a);case 4:u(R(n)),i=window.localStorage.getItem("loggedMytineraryUser"),s=JSON.parse(i),u(S(s)),o("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{className:"CommentForm",children:[Object(L.jsx)("div",{className:"UserImage",style:{backgroundImage:"url(".concat(l.imgUrl,")")}}),Object(L.jsxs)("form",{className:"Form",onSubmit:b,children:[Object(L.jsx)("input",{className:"InputComment",type:"text",value:c,onChange:function(e){var t=e.target;return o(t.value)}}),c.length>0?Object(L.jsx)("button",{className:"ButtonComment",type:"submit",children:"Comment"}):Object(L.jsx)("button",{className:"ButtonComment Disabled",disabled:!0,children:"Comment"})]})]})}),q=function(e){var t=e.itineraryId,n=e.itineraryName,r=e.itineraryRating,i=e.itineraryPrice,c=e.itineraryImage,o=e.itineraryHashtags,u=e.itineraryActivities,l=e.itineraryFavs,d=e.itineraryComments,j=e.functionFav,b=e.city,m=Object(a.useState)(!1),f=Object(_.a)(m,2),h=f[0],p=f[1],v=Object(a.useState)(!1),O=Object(_.a)(v,2),x=O[0],g=O[1],y=Object(s.c)((function(e){return e.user})),k=h?{display:""}:{display:"none"};return Object(a.useEffect)((function(){if(y){var e=!!l.find((function(e){return String(e)===String(y.id)}));g(e)}}),[l,y]),Object(L.jsxs)("div",{className:"CardItinerary",children:[Object(L.jsxs)("div",{className:"ContainerItinerary",children:[Object(L.jsxs)("div",{className:"ItineraryHeader",children:[Object(L.jsx)("div",{className:"ItineraryName",children:n}),Object(L.jsx)("div",{className:"BookmarkBox",children:y&&Object(L.jsx)("div",{className:"Bookmark",onClick:function(){j(t),g(!x)},children:x?Object(L.jsx)("i",{className:"fas fa-bookmark"}):Object(L.jsx)("i",{className:"far fa-bookmark"})})})]}),Object(L.jsx)("div",{className:"Img",style:{backgroundImage:"url(".concat(c,")")}}),Object(L.jsxs)("div",{className:"Info",children:[Object(L.jsxs)("div",{children:[Object(L.jsx)("i",{className:"fas fa-star Star"})," ",r]}),Object(L.jsxs)("div",{children:[Object(L.jsx)("i",{className:"fas fa-money-bill-wave Money"})," ",i]}),Object(L.jsx)("div",{className:"Hashtags",children:o.map((function(e){return Object(L.jsx)("div",{children:e},e)}))}),Object(L.jsx)("button",{className:"ButtonActivities",onClick:function(){return p(!h)},children:"Activities"})]})]}),Object(L.jsx)("div",{style:k,children:Object(L.jsx)(H,{activities:u})}),Object(L.jsx)("div",{className:"CommentTitle",children:"Comments"}),0===d.length?Object(L.jsx)("div",{className:"CommentTitle",children:"No comments"}):d.map((function(e){return Object(L.jsx)(z,{commentId:e.id,commentContent:e.content,commentLikes:e.likes,commentDislikes:e.dislikes,commentUser:e.user,commentItinerary:e.itinerary},e.id)})),y&&Object(L.jsx)("div",{children:Object(L.jsx)(W,{itineraryId:t,city:b})})]})},Y=function(e){var t=e.match,n=Object(s.b)(),r=Object(s.c)((function(e){return e.itineraries})),i=t.params.city;Object(a.useEffect)((function(){n(R(i))}),[n,i]);var c,o=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.favItinerary(t);case 2:n(R(i));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)("div",{className:"Itineraries",children:[Object(L.jsxs)("h3",{children:["Itineraries of ",(c=i,c.replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))})))]}),Object(L.jsx)("div",{children:r.map((function(e){return Object(L.jsx)(q,{functionFav:o,itineraryId:e.id,itineraryName:e.name,itineraryRating:e.rating,itineraryPrice:e.price,itineraryImage:e.imgUrl,itineraryHashtags:e.hashtags,itineraryActivities:e.activities,itineraryFavs:e.favs,itineraryComments:e.comments,city:i},e.id)}))})]})},Z="/api/users",K={getFavs:function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(Z,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),unFav:function(){var e=Object(j.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.put("".concat(Z,"/").concat(t),{itineraryId:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Q=(n(80),function(e){var t=e.user,n=Object(a.useState)([]),r=Object(_.a)(n,2),i=r[0],c=r[1],s=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getFavs(t);case 2:n=e.sent,c(n.favs);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t&&s(t.id)}),[t]),Object(L.jsxs)("div",{className:"Favourites",children:[i.length>0?Object(L.jsx)("h3",{children:"My favourites itineraries"}):Object(L.jsx)("div",{children:"You don\\'t have itineraries added to favourites"}),0===i.length&&Object(L.jsxs)("div",{children:["Go to ",Object(L.jsx)(o.b,{to:"/cities",children:"Cities Page"})," and start your itinerary"]}),Object(L.jsx)("div",{children:i.map((function(e){var n=function(){var n=Object(j.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K.unFav(t.id,e.id);case 2:s(t.id);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(L.jsx)(q,{functionFav:n,itineraryId:e.id,itineraryName:e.name,itineraryRating:e.rating,itineraryPrice:e.price,itineraryImage:e.imgUrl,itineraryHashtags:e.hashtags,itineraryActivities:e.activities,itineraryFavs:e.favs,itineraryComments:e.comments,city:e.city.name},e.id)}))})]})});function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function $(e,t){var n=e.title,i=e.titleId,c=X(e,["title","titleId"]);return a.createElement("svg",V({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",ref:t,"aria-labelledby":i},c),n?a.createElement("title",{id:i},n):null,r||(r=a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})))}var ee=a.forwardRef($),te=(n.p,n(81),function(){var e=Object(a.useState)(!1),t=Object(_.a)(e,2),n=t[0],r=t[1],i=Object(s.b)(),c=Object(s.c)((function(e){return e.user})),l=Object(u.g)(),b=function(){return r(!n)},m=function(){window.localStorage.clear(),i(S(null)),r(!1)},f=function(){var e=Object(j.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.loginGoogle(t);case 3:a=e.sent,window.localStorage.setItem("loggedMytineraryUser",JSON.stringify(a)),y.setToken(a.token),I.setToken(a.token),i(S(a)),l.push("/"),r(!n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){console.log(e.profileObj)};return Object(L.jsxs)("div",{className:"Header",children:[Object(L.jsx)("div",{className:"LeftNav",children:Object(L.jsxs)("div",{className:n?"NavOptionsLeft Active":"NavOptionsLeft",children:[Object(L.jsx)(o.b,{className:"Option",onClick:b,to:"/",children:"Home"}),Object(L.jsx)(o.b,{className:"Option",onClick:b,to:"/about",children:"About"}),Object(L.jsx)(o.b,{className:"Option",onClick:b,to:"/cities",children:"Cities"}),c&&Object(L.jsx)(o.b,{className:"Option",onClick:b,to:"/favourites",children:"Favourites"}),!c&&Object(L.jsx)(p.GoogleLogin,{clientId:"513500461810-5n00tpak7tr7lti6an6lau1mm8sfnaqj.apps.googleusercontent.com",buttonText:"Login",render:function(e){return Object(L.jsx)(o.b,{className:"Option MobileOption",onClick:e.onClick,disabled:e.disabled,to:"/cities",children:"Login"})},onSuccess:f,onFailure:h,cookiePolicy:"single_host_origin",isSignedIn:!0}),c&&Object(L.jsx)(p.GoogleLogout,{clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",buttonText:"Logout",render:function(e){return Object(L.jsx)(o.b,{className:"Option MobileOption",onClick:e.onClick,disabled:e.disabled,to:"/",children:"Logout"})},onLogoutSuccess:m,isSignedIn:!1})]})}),Object(L.jsx)("div",{className:"RightNav",children:Object(L.jsxs)("div",{className:"NavOptionsRight",children:[!c&&Object(L.jsx)(p.GoogleLogin,{clientId:"513500461810-5n00tpak7tr7lti6an6lau1mm8sfnaqj.apps.googleusercontent.com",buttonText:"Login",render:function(e){return Object(L.jsx)(o.b,{className:"Option",onClick:e.onClick,disabled:e.disabled,to:"/cities",children:"Login"})},onSuccess:f,onFailure:h,cookiePolicy:"single_host_origin",isSignedIn:!0}),c&&Object(L.jsx)(p.GoogleLogout,{clientId:"658977310896-knrl3gka66fldh83dao2rhgbblmd4un9.apps.googleusercontent.com",render:function(e){return Object(L.jsx)(o.b,{className:"OptionRight",onClick:e.onClick,disabled:e.disabled,to:"/",children:"Logout"})},onLogoutSuccess:m,isSignedIn:!1})]})}),Object(L.jsx)("div",{className:"MobileMenu",onClick:b,children:Object(L.jsx)(ee,{className:"MenuIcon"})})]})}),ne=n(26),re=n(39),ae=function(e){var t=e.children,n=e.user,r=Object(re.a)(e,["children","user"]);return Object(L.jsx)(u.b,Object(ne.a)(Object(ne.a)({},r),{},{render:function(e){var r=e.location;return n?t:Object(L.jsx)(u.a,{to:{pathname:"/",state:{from:r}}})}}))},ie=function(){var e=Object(s.c)((function(e){return e.user}));return Object(L.jsx)(o.a,{children:Object(L.jsxs)("div",{className:"App",children:[Object(L.jsx)(te,{}),Object(L.jsx)("div",{children:Object(L.jsxs)(u.d,{children:[Object(L.jsx)(u.b,{path:"/cities",children:Object(L.jsx)(G,{})}),Object(L.jsx)(u.b,{path:"/about",children:Object(L.jsx)(T,{})}),Object(L.jsx)(ae,{path:"/favourites",user:e,children:Object(L.jsx)(Q,{user:e})}),Object(L.jsx)(u.b,{path:"/itineraries/:city",component:Y}),Object(L.jsx)(u.b,{path:"/",children:Object(L.jsx)(E,{})})]})})]})})},ce=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))},se=n(15),oe=n(37),ue=n(38),le=Object(se.combineReducers)({cities:B,itineraries:D,user:A}),de=Object(se.createStore)(le,Object(oe.composeWithDevTools)(Object(se.applyMiddleware)(ue.a)));c.a.render(Object(L.jsx)(s.a,{store:de,children:Object(L.jsx)(ie,{})}),document.getElementById("root")),ce()}},[[82,1,2]]]);
//# sourceMappingURL=main.2cdd84e1.chunk.js.map